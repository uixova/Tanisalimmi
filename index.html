 

<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="TanÄ±ÅŸma teklifi sayfasÄ±">
  <title>TanÄ±ÅŸalÄ±m mÄ±?</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main id="main-content">
    <h1 id="main-title">TanÄ±ÅŸalÄ±m mÄ±? <span aria-hidden="true">ğŸ˜Š</span></h1>
    <div class="buttons-container">
      <button id="yes-btn" class="btn btn--success" aria-label="Evet, tanÄ±ÅŸalÄ±m">Evet</button>
      <button id="no-btn" class="btn btn--danger" aria-label="HayÄ±r, tanÄ±ÅŸmayalÄ±m">HayÄ±r</button>
    </div>
  </main>
  
  <div class="form-container" id="interest-form">
    <h2 class="form-title">BunlarÄ± doldurup bana gÃ¶nder!</h2>
    <form id="user-form" action="" method="POST">
      <div class="form-group">
        <label for="name"  class="form-label">AdÄ±n</label>
        <input type="text" id="name" name="isim" class="form-input" placeholder="Ä°smini yaz" required>
      </div>
      
      <div class="form-group">
        <label for="hobbies" class="form-label">Hobilerin</label>
        <input type="text" id="hobbies" name="hobiler" class="form-input" placeholder="Neler yapmaktan hoÅŸlanÄ±rsÄ±n?" required>
      </div>
      
      <div class="form-group">
        <label for="color" class="form-label">En sevdiÄŸin renk</label>
        <input type="text" id="color" name="renkler" class="form-input" placeholder="Hangi rengi seversin?">
      </div>
      
      <div class="form-group">
        <label for="book" class="form-label">En sevdiÄŸin kitap</label>
        <input type="text" id="book" name="kitaplar" class="form-input" placeholder="Favori kitabÄ±n nedir?">
      </div>
      
      <div class="form-group">
        <label for="movie" class="form-label">En sevdiÄŸin film</label>
        <input type="text" id="movie" name="filmler" class="form-input" placeholder="Favori filmin nedir?">
      </div>
      
      <button type="submit" class="submit-btn">GÃ¶nder</button>
    </form>
  </div>
  
  <div class="hearts-container" id="hearts-container"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      
      const yesBtn = document.getElementById('yes-btn');
      const noBtn = document.getElementById('no-btn');
      const mainTitle = document.getElementById('main-title');
      const heartsContainer = document.getElementById('hearts-container');
      const mainContent = document.getElementById('main-content');
      const interestForm = document.getElementById('interest-form');
      const userForm = document.getElementById('user-form');
       
      const noResponses = [
        'Emin misin?',
        'GerÃ§ekten hayÄ±r mÄ±?',
        'Bak piÅŸman olursun ha...',
        'Åaka yapÄ±yorsun deÄŸil mi?',
        'Son kararÄ±n mÄ±?',
        'Yapma be gÃ¼zelim',
        'LÃ¼tfen? ğŸ¥º',
        'Hadi KarÄ± ğŸ˜¡'
      ];
      
      const heartColors = ['â¤ï¸', 'ğŸ§¡', 'ğŸ’›', 'ğŸ’š', 'ğŸ’™', 'ğŸ’œ', 'ğŸ¤', 'ğŸ–¤', 'ğŸ¤'];
      
       
      let noClickCount = 0;
      let isSuccessState = false;
      let heartInterval;
      const totalHearts = 40;  
      
      
      noBtn.addEventListener('mouseover', handleNoButtonHover);
      yesBtn.addEventListener('click', handleYesButtonClick);
      yesBtn.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          handleYesButtonClick();
        }
      });
      
      userForm.addEventListener('submit', handleFormSubmit);
      
       
      function handleNoButtonHover() {
        if (isSuccessState) return;
        
        noClickCount++;
        
        
        const responseIndex = Math.min(noClickCount - 1, noResponses.length - 1);
        noBtn.textContent = noResponses[responseIndex];
        
        
        const maxX = window.innerWidth - noBtn.offsetWidth - 20;
        const maxY = window.innerHeight - noBtn.offsetHeight - 20;
        const randomX = Math.max(15, Math.random() * maxX);
        const randomY = Math.max(15, Math.random() * maxY);
        noBtn.style.position = 'absolute';
        // Sadece maksimum 10px hareket etsin
        const deltaX = (Math.random() - 0.5) * 100; // -100 ile +100 arasÄ±
        const deltaY = (Math.random() - 0.5) * 100; // -100 ile +100 arasÄ±
        // Mevcut konumu al
        const currentLeft = noBtn.offsetLeft;
        const currentTop = noBtn.offsetTop;
        // Yeni konumu hesapla
        const newLeft = Math.max(20, Math.min(window.innerWidth - noBtn.offsetWidth - 20, currentLeft + deltaX));
        const newTop = Math.max(20, Math.min(window.innerHeight - noBtn.offsetHeight - 20, currentTop + deltaY));
        noBtn.style.left = `${newLeft}px`;
        noBtn.style.top = `${newTop}px`;    

        yesBtn.style.transform = `scale(${1 + noClickCount * 0.1})`;
        
       
        if (noClickCount >= noResponses.length) {
          noBtn.style.visibility = 'hidden';
        }
      }
      
      function handleYesButtonClick() {
        if (isSuccessState) return;
        
        isSuccessState = true;
        
        
        mainContent.innerHTML = `
          <h1 class="success-message">Harika! <span aria-hidden="true">ğŸ‰</span></h1>
          <p>Seninle tanÄ±ÅŸmak iÃ§in sabÄ±rsÄ±zlanÄ±yorum!</p>
        `;
        
        
        interestForm.style.display = 'block';
        
        
        startHeartAnimation();
        
         
        setTimeout(() => {
          if (typeof confetti === 'function') {
            confetti({
              particleCount: 150,
              spread: 70,
              origin: { y: 0.6 }
            });
          }
        }, 500);
      }
      
      function startHeartAnimation() {
         
        heartsContainer.innerHTML = '';
        
        
        for (let i = 0; i < totalHearts; i++) {
          createHeart(i * 200);  
        }
        
        
        heartInterval = setInterval(() => {
          const hearts = document.querySelectorAll('.heart');
          if (hearts.length < totalHearts) {
            createHeart(0);
          }
        }, 500);
      }
      
      function createHeart(delay) {
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.className = 'heart';
          heart.innerHTML = heartColors[Math.floor(Math.random() * heartColors.length)];
          heart.style.left = `${Math.random() * 100}%`;
          heart.style.animationDuration = `${3 + Math.random() * 3}s`;
          heart.style.animationDelay = `${Math.random() * 2}s`;
          
          heartsContainer.appendChild(heart);
           
          setTimeout(() => {
            if (heart.parentNode) {
              heart.remove();
            }
          }, 8000);
        }, delay);
      }
      
      function handleFormSubmit(e) {
  e.preventDefault();

  const formData = new FormData(userForm);

  fetch("kaydet.php", {
    method: "POST",
    body: formData,
  })
    .then((res) => res.text())
    .then((response) => {
      if (response.trim() === "ok") {
        const name = formData.get("isim");
        const hobbies = formData.get("hobiler");
        const color = formData.get("renkler");
        const book = formData.get("kitaplar");
        const movie = formData.get("filmler");

        interestForm.innerHTML = `
          <h2 class="form-title">TeÅŸekkÃ¼rler ${name}!</h2>
          <p>Bilgilerini aldÄ±m:</p>
          <ul style="text-align: left; margin: 1rem 0; padding-left: 1.5rem;">
            <li><strong>Hobilerin:</strong> ${hobbies}</li>
            ${color ? `<li><strong>SevdiÄŸin renk:</strong> ${color}</li>` : ''}
            ${book ? `<li><strong>SevdiÄŸin kitap:</strong> ${book}</li>` : ''}
            ${movie ? `<li><strong>SevdiÄŸin film:</strong> ${movie}</li>` : ''}
          </ul>
          <p>Åimdi bunu ss al ve bana gÃ¶nder Ã§abukkâ¤ï¸</p>
        `;

        for (let i = 0; i < 5; i++) {
          setTimeout(() => {
            if (typeof confetti === 'function') {
              confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
            }
          }, i * 300);
        }
      } else {
        alert("Ss Al ve Bana GÃ¶nder! ğŸ˜˜");
      }
    })
    .catch(() => alert("Ss Al ve Bana GÃ¶nder! ğŸ˜˜"));
}
     
      if (typeof confetti !== 'function') {
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js';
        document.head.appendChild(script);
      } 
       
      window.addEventListener('beforeunload', () => {
        clearInterval(heartInterval);
      });
    });
  </script>
</body>

</html>
